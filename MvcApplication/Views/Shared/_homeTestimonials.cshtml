@model Vidyanjali.Areas.Admin.Models.Topic.Testimonials
@using Vidyanjali.Models
@{
    CoreContext db = new CoreContext();
    var testimonials = db.Testimonials.Where(t => t.IsPublished).ToList();
    var count = false;
    var active = false;
}
<div id="carousel" class="carousel slide" data-ride="carousel" data-interval="4000">
    <ol class="carousel-indicators">
        @for (var i = 0; i < testimonials.Count(); i++)
        {
            if (active == false)
            {
                <li data-target="#carousel" data-slide-to="@i" class="active"></li>
                active = true;
            }
            else
            {
               <li data-target="#carousel" data-slide-to="@i"></li>
            }
        }
     </ol>
    <div class="carousel-inner">
        @foreach (var testimonial in testimonials)
        {
            //var file = new Vidyanjali.Areas.FileManagement.Models.FileRepository().GetImages("TestimonialImage", "Testimonial", testimonial.Id).FirstOrDefault();
        <a href="/Pages/Testimonials">
            @if (count == false)
            {
                <div class="carousel-item active">
                    <img src="/content/public/images/Vidyanjali_Testimonial-1.webp" class="img-fluid" alt="testimonial">
                    <h3 data-aos="zoom-in" data-aos-easing="linear" data-aos-duration="1800">@testimonial.Name</h3>
                    @Html.Raw(testimonial.Description.Substring(0,200))...
                </div>
                count = true;
            }
            else
            {
                <div class="carousel-item">
                    <img src="/content/public/images/Vidyanjali_Testimonial-1.webp" class="img-fluid" alt="testimonial">
                    <h3 data-aos="zoom-in" data-aos-easing="linear" data-aos-duration="1800">@testimonial.Name</h3>
                    @Html.Raw(testimonial.Description.Substring(0,200))...
                </div>
            }
        </a>

        }
    </div>
</div>
